name: struct_daily
version: 1.0
primary_key: [fecha, numero]
description: "Score estructural diario por n√∫mero (recencia + frecuencia + propiedades invariantes)."
fields:
  - {name: fecha, type: date, required: true}
  - {name: numero, type: string, format: "NN", domain: [00..99], required: true}
  - {name: score_estructural, type: number, min: 0, max: 1, required: true}
  - {name: score_estructural_corto, type: number, min: 0, max: 1, required: true, description: "Score corto (ventana STRUCTURAL_WINDOW_CONFIG['corto'])."}
  - {name: score_estructural_largo, type: number, min: 0, max: 1, required: true, description: "Score largo (ventana STRUCTURAL_WINDOW_CONFIG['largo'], usado como score_estructural principal)."}
  - {name: dias_desde_ultimo, type: integer, min: 0, required: true}
  - {name: freq_ventana, type: number, min: 0, max: 1, required: true}
  - {name: freq_ventana_corto, type: number, min: 0, max: 1, required: true}
  - {name: freq_ventana_largo, type: number, min: 0, max: 1, required: true}
  - {name: recencia_corto, type: number, min: 0, max: 1, required: true}
  - {name: recencia_largo, type: number, min: 0, max: 1, required: true}
  - {name: detalle_estructural, type: string, required: true, description: "JSON con recencia, frecuencia y propiedades (paridad, decena, etc.)."}
constraints:
  not_null:
    [
      [
        fecha,
        numero,
        score_estructural,
        score_estructural_corto,
        score_estructural_largo,
        dias_desde_ultimo,
        freq_ventana,
        freq_ventana_corto,
        freq_ventana_largo,
        recencia_corto,
        recencia_largo,
      ],
    ]
