expectation_suite_name: struct_daily_suite
expectations:
  - expect_table_columns_to_match_set:
        column_set:
          [
            "fecha",
            "numero",
            "score_estructural",
            "score_estructural_corto",
            "score_estructural_largo",
            "dias_desde_ultimo",
            "freq_ventana",
            "freq_ventana_corto",
            "freq_ventana_largo",
            "recencia_corto",
            "recencia_largo",
            "detalle_estructural",
          ]

  - expect_column_values_to_not_be_null:
        column: fecha

  - expect_column_values_to_match_regex:
        column: numero
        regex: "^[0-9]{2}$"

  - expect_column_values_to_be_between:
        column: score_estructural
        min_value: 0.0
        max_value: 1.0

  - expect_column_values_to_be_between:
        column: score_estructural_corto
        min_value: 0.0
        max_value: 1.0

  - expect_column_values_to_be_between:
        column: score_estructural_largo
        min_value: 0.0
        max_value: 1.0

  - expect_column_values_to_be_between:
        column: dias_desde_ultimo
        min_value: 0
        mostly: 1.0

  - expect_column_values_to_be_between:
        column: freq_ventana
        min_value: 0.0
        max_value: 1.0

  - expect_column_values_to_be_between:
        column: freq_ventana_corto
        min_value: 0.0
        max_value: 1.0

  - expect_column_values_to_be_between:
        column: freq_ventana_largo
        min_value: 0.0
        max_value: 1.0

  - expect_column_values_to_be_between:
        column: recencia_corto
        min_value: 0.0
        max_value: 1.0

  - expect_column_values_to_be_between:
        column: recencia_largo
        min_value: 0.0
        max_value: 1.0

  - expect_column_values_to_not_be_null:
        column: detalle_estructural

meta:
    notes: "Valida score estructural diario (recencia y frecuencia entre [0,1]) y detalles por n√∫mero."
